# Backend Environment Variables
# Copia este archivo como .env para desarrollo local
# Para Railway: Configura estas variables en Railway Dashboard → Variables

# --- MongoDB Configuration ---
# OBLIGATORIO: URL de conexión a MongoDB
# Para desarrollo local:
MONGO_URL=mongodb://localhost:27017

# Para Railway con MongoDB Atlas:
# MONGO_URL=mongodb+srv://usuario:password@cluster.mongodb.net/WebApp

# Para Railway con MongoDB de Railway:
# MONGO_URL=mongodb://mongo:password@monorail.proxy.rlwy.net:PORT

# Nombre de la base de datos (opcional, default: WebApp)
DB_NAME=WebApp

# --- Password Storage Configuration ---
# Modo de almacenamiento de contraseñas: 'plain' o 'bcrypt'
# 'bcrypt' = Hashea contraseñas con bcrypt (RECOMENDADO para producción, más seguro)
# 'plain' = Almacena contraseñas en texto plano (INSEGURO, solo para compatibilidad con datos existentes)
PASSWORD_STORAGE_MODE=bcrypt

# --- Security Configuration ---
# Clave secreta para JWT (CAMBIAR en producción)
JWT_SECRET=educando_secret_key_2025

# --- CORS Configuration ---
# Orígenes permitidos para CORS
# Para desarrollo: usa *
CORS_ORIGINS=*

# Para producción con dominio específico:
# CORS_ORIGINS=https://tu-frontend.railway.app

# Para múltiples dominios (separados por comas):
# CORS_ORIGINS=https://tu-frontend.railway.app,https://tudominio.com

# --- Cloudinary Configuration (opcional) ---
# Habilita almacenamiento persistente de archivos en la nube (recomendado para producción)
# Si no se configuran, los archivos se guardan en disco local (se pierden al reiniciar)
# CLOUDINARY_CLOUD_NAME=tu_cloud_name
# CLOUDINARY_API_KEY=tu_api_key
# CLOUDINARY_API_SECRET=tu_api_secret

# --- Debug Mode (opcional) ---
# Muestra errores detallados en respuestas de API (SOLO para desarrollo)
# Para producción: NO configurar o set DEBUG=false
# DEBUG=false

# --- User Reset Endpoint (opcional) ---
# Permite el uso del endpoint /api/admin/reset-users para reiniciar usuarios
# Para producción: set ALLOW_USER_RESET=false para desactivar
# Para desarrollo: dejar en true o no configurar
ALLOW_USER_RESET=true

# --- Railway Deployment Notes ---
# 1. MONGO_URL es OBLIGATORIO - sin esto el backend crashea
# 2. Railway asigna el puerto automáticamente con $PORT
# 3. Configura JWT_SECRET con una clave segura en producción
# 4. Para MongoDB Atlas, permite IP 0.0.0.0/0 en Network Access
# 5. NO configurar DEBUG=true en producción (expone detalles de errores)
