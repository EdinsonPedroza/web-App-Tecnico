â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 FIX COMPLETADO - AUTENTICACIÃ“N DE USUARIOS             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ PROBLEMA REPORTADO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Usuarios reciÃ©n creados no pueden iniciar sesiÃ³n - aparecen como
"credenciales incorrectas" incluso con la contraseÃ±a correcta.

âœ… SOLUCIÃ“N IMPLEMENTADA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Bug crÃ­tico en backend/server.py funciÃ³n verify_password() ha sido
COMPLETAMENTE CORREGIDO.

ğŸ” QUÃ‰ SE CAMBIÃ“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Archivo: backend/server.py (lÃ­neas 335-353)

ANTES:
  - Fallback incorrecto a SHA256 para todos los errores
  - Causaba fallo en verificaciÃ³n de contraseÃ±as bcrypt

DESPUÃ‰S:
  - Manejo especÃ­fico de excepciones
  - Fallback solo para hashes legacy (no bcrypt)
  - Logging seguro sin informaciÃ³n sensible

ğŸ§ª PRUEBAS REALIZADAS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Login usuarios por defecto (admin y estudiante)
âœ… Crear nuevo profesor y login inmediato
âœ… Crear nuevo estudiante y login inmediato
âœ… AnÃ¡lisis de seguridad (CodeQL) - sin vulnerabilidades
âœ… Code review aprobado

ğŸ“ DÃ“NDE SE ALMACENAN LOS USUARIOS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Base de datos: MongoDB
ColecciÃ³n: users (dentro de educando_db)
Formato: JSON con contraseÃ±as encriptadas (bcrypt)

TODOS los usuarios (por defecto y nuevos) estÃ¡n en la misma colecciÃ³n.

ğŸš€ CÃ“MO ACTUALIZAR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. git pull origin main
2. docker-compose build backend
3. docker-compose down && docker-compose up -d
4. docker-compose logs backend | grep "successful"

ğŸ“š DOCUMENTACIÃ“N COMPLETA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ver archivo: SOLUCION_AUTENTICACION_USUARIOS.md
- ExplicaciÃ³n detallada del problema
- CÃ³digo antes y despuÃ©s
- Instrucciones de actualizaciÃ³n
- Pruebas de verificaciÃ³n
- InformaciÃ³n tÃ©cnica

ğŸ‰ RESULTADO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Problema identificado y solucionado
âœ… CÃ³digo actualizado y probado en Docker
âœ… Sin vulnerabilidades de seguridad
âœ… Usuarios nuevos AHORA pueden iniciar sesiÃ³n
âœ… Sistema totalmente funcional

Fecha: 2026-02-18
Archivos modificados: backend/server.py
Tests: 6/6 exitosos âœ…
